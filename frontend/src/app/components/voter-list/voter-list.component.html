<div class="container mt-4">
  <h2>Voting System</h2>
  
  <div *ngIf="loading" class="text-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <div *ngIf="!loading && voters.length === 0" class="alert alert-info">
    No voters found
  </div>

  <div *ngIf="!loading && voters.length > 0" class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date of Birth</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let voter of voters">
          <td>{{ voter.lastName }}, {{ voter.firstName }}</td>
          <td>{{ voter.birthDate | date }}</td>
          <td>
            <span [class]="{'badge bg-success': voter.hasVoted, 'badge bg-warning': !voter.hasVoted}">
              {{ voter.hasVoted ? 'Voted' : 'Not Voted' }}
            </span>
          </td>
          <td>
            <button *ngIf="!voter.hasVoted" 
                    (click)="vote(voter)"
                    class="btn btn-primary btn-sm">
              Vote
            </button>
            <span *ngIf="voter.hasVoted" class="text-muted">
              Already Voted
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
