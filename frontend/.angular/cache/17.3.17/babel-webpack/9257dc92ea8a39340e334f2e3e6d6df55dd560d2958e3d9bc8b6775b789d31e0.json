{"ast":null,"code":"import { environment } from '../../environments/environment';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction VotersComponent_tr_35_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function VotersComponent_tr_35_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const voter_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.vote(voter_r2.id));\n    });\n    i0.ɵɵtext(1, \" Vote \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.isVoting);\n  }\n}\nfunction VotersComponent_tr_35_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1, \"\\u2713 Voted\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VotersComponent_tr_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtemplate(9, VotersComponent_tr_35_button_9_Template, 2, 1, \"button\", 14)(10, VotersComponent_tr_35_span_10_Template, 2, 0, \"span\", 15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const voter_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(voter_r2.firstName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(voter_r2.lastName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 5, voter_r2.dateOfBirth, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !voter_r2.hasVoted);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", voter_r2.hasVoted);\n  }\n}\nfunction VotersComponent_tr_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 18);\n    i0.ɵɵtext(2, \"No voters found\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class VotersComponent {\n  constructor(http) {\n    this.http = http;\n    this.voters = [];\n    this.searchTerm = '';\n    this.isVoting = false;\n    this.apiUrl = environment.apiUrl;\n    this.searchSubject = new Subject();\n  }\n  ngOnInit() {\n    this.loadVoters();\n    // Setup search debouncing\n    this.searchSubject.pipe(debounceTime(300), distinctUntilChanged()).subscribe(() => {\n      this.filterVoters();\n    });\n  }\n  loadVoters() {\n    this.http.get(`${this.apiUrl}/voters`).subscribe({\n      next: data => {\n        this.voters = data;\n      },\n      error: error => {\n        console.error('Error loading voters:', error);\n      }\n    });\n  }\n  vote(voterId) {\n    if (this.isVoting) return;\n    this.isVoting = true;\n    this.http.post(`${this.apiUrl}/voters/${voterId}/vote`, {}).subscribe({\n      next: () => {\n        this.loadVoters();\n      },\n      error: error => {\n        console.error('Error voting:', error);\n      },\n      complete: () => {\n        this.isVoting = false;\n      }\n    });\n  }\n  filterVoters() {\n    if (!this.searchTerm) {\n      return this.voters;\n    }\n    const term = this.searchTerm.toLowerCase();\n    return this.voters.filter(voter => voter.firstName.toLowerCase().includes(term) || voter.lastName.toLowerCase().includes(term));\n  }\n  get filteredVoters() {\n    return this.filterVoters();\n  }\n  get totalVoters() {\n    return this.voters.length;\n  }\n  get votedCount() {\n    return this.voters.filter(v => v.hasVoted).length;\n  }\n  get remainingCount() {\n    return this.voters.filter(v => !v.hasVoted).length;\n  }\n  static {\n    this.ɵfac = function VotersComponent_Factory(t) {\n      return new (t || VotersComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: VotersComponent,\n      selectors: [[\"app-voters\"]],\n      decls: 37,\n      vars: 6,\n      consts: [[1, \"voters-container\"], [1, \"voters-header\"], [1, \"voters-stats\"], [1, \"stat-item\"], [1, \"stat-label\"], [1, \"stat-value\"], [1, \"stat-value\", \"voted\"], [1, \"stat-value\", \"remaining\"], [1, \"voters-search\"], [\"type\", \"text\", \"placeholder\", \"Search voters...\", 1, \"search-input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"voters-table-container\"], [1, \"voters-table\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"vote-btn\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"class\", \"voted\", 4, \"ngIf\"], [1, \"vote-btn\", 3, \"click\", \"disabled\"], [1, \"voted\"], [\"colspan\", \"4\", 1, \"no-results\"]],\n      template: function VotersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"Election Voting System\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"span\", 4);\n          i0.ɵɵtext(7, \"Total Voters:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"span\", 5);\n          i0.ɵɵtext(9);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 3)(11, \"span\", 4);\n          i0.ɵɵtext(12, \"Voted:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"span\", 6);\n          i0.ɵɵtext(14);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"div\", 3)(16, \"span\", 4);\n          i0.ɵɵtext(17, \"Remaining:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"span\", 7);\n          i0.ɵɵtext(19);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(20, \"div\", 8)(21, \"input\", 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function VotersComponent_Template_input_ngModelChange_21_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchTerm, $event) || (ctx.searchTerm = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 10)(23, \"table\", 11)(24, \"thead\")(25, \"tr\")(26, \"th\");\n          i0.ɵɵtext(27, \"First Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"th\");\n          i0.ɵɵtext(29, \"Last Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"th\");\n          i0.ɵɵtext(31, \"Date of Birth\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"th\");\n          i0.ɵɵtext(33, \"Status\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(34, \"tbody\");\n          i0.ɵɵtemplate(35, VotersComponent_tr_35_Template, 11, 8, \"tr\", 12)(36, VotersComponent_tr_36_Template, 3, 0, \"tr\", 13);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate(ctx.totalVoters);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.votedCount);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.remainingCount);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchTerm);\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngForOf\", ctx.filteredVoters);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.filteredVoters.length === 0);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DatePipe],\n      styles: [\".voters-container[_ngcontent-%COMP%] {\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  padding: 20px;\\n}\\n\\n.voters-header[_ngcontent-%COMP%] {\\n  background: #f8f9fa;\\n  padding: 20px;\\n  border-radius: 8px;\\n  margin-bottom: 20px;\\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n}\\n\\n.voters-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  color: #333;\\n  margin: 0 0 15px 0;\\n  font-size: 24px;\\n}\\n\\n.voters-stats[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 20px;\\n  font-size: 14px;\\n}\\n\\n.stat-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n}\\n\\n.stat-label[_ngcontent-%COMP%] {\\n  color: #666;\\n}\\n\\n.stat-value[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\n.stat-value.voted[_ngcontent-%COMP%] {\\n  color: #28a745;\\n}\\n\\n.stat-value.remaining[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n}\\n\\n.voters-search[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\n.search-input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  font-size: 14px;\\n}\\n\\n.voters-table-container[_ngcontent-%COMP%] {\\n  background: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n  overflow: hidden;\\n}\\n\\n.voters-table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\n.voters-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .voters-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  padding: 12px;\\n  text-align: left;\\n  border-bottom: 1px solid #eee;\\n}\\n\\n.voters-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background-color: #f8f9fa;\\n  font-weight: bold;\\n  color: #666;\\n}\\n\\n.vote-btn[_ngcontent-%COMP%] {\\n  background-color: #28a745;\\n  color: white;\\n  border: none;\\n  padding: 8px 16px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background-color 0.3s;\\n  font-size: 14px;\\n}\\n\\n.vote-btn[_ngcontent-%COMP%]:hover:not(:disabled) {\\n  background-color: #218838;\\n}\\n\\n.vote-btn[_ngcontent-%COMP%]:disabled {\\n  background-color: #ccc;\\n  cursor: not-allowed;\\n}\\n\\n.voted[_ngcontent-%COMP%] {\\n  color: #28a745;\\n  font-weight: bold;\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n}\\n\\n.no-results[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: #666;\\n  padding: 20px;\\n}\\n\\n@media (max-width: 768px) {\\n  .voters-stats[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    gap: 10px;\\n  }\\n  \\n  .voters-table[_ngcontent-%COMP%] {\\n    display: block;\\n    overflow-x: auto;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdm90ZXJzL3ZvdGVycy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0VBQ2pCLGNBQWM7RUFDZCxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIscUNBQXFDO0FBQ3ZDOztBQUVBO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFNBQVM7RUFDVCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixRQUFRO0FBQ1Y7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixxQ0FBcUM7RUFDckMsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsV0FBVztFQUNYLHlCQUF5QjtBQUMzQjs7QUFFQTs7RUFFRSxhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixpQkFBaUI7RUFDakIsV0FBVztBQUNiOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsaUNBQWlDO0VBQ2pDLGVBQWU7QUFDakI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxzQkFBc0I7RUFDdEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFFBQVE7QUFDVjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsYUFBYTtBQUNmOztBQUVBO0VBQ0U7SUFDRSxzQkFBc0I7SUFDdEIsU0FBUztFQUNYOztFQUVBO0lBQ0UsY0FBYztJQUNkLGdCQUFnQjtFQUNsQjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLnZvdGVycy1jb250YWluZXIge1xuICBtYXgtd2lkdGg6IDEyMDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbi52b3RlcnMtaGVhZGVyIHtcbiAgYmFja2dyb3VuZDogI2Y4ZjlmYTtcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLDAsMCwwLjEpO1xufVxuXG4udm90ZXJzLWhlYWRlciBoMiB7XG4gIGNvbG9yOiAjMzMzO1xuICBtYXJnaW46IDAgMCAxNXB4IDA7XG4gIGZvbnQtc2l6ZTogMjRweDtcbn1cblxuLnZvdGVycy1zdGF0cyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGdhcDogMjBweDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uc3RhdC1pdGVtIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiA1cHg7XG59XG5cbi5zdGF0LWxhYmVsIHtcbiAgY29sb3I6ICM2NjY7XG59XG5cbi5zdGF0LXZhbHVlIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5zdGF0LXZhbHVlLnZvdGVkIHtcbiAgY29sb3I6ICMyOGE3NDU7XG59XG5cbi5zdGF0LXZhbHVlLnJlbWFpbmluZyB7XG4gIGNvbG9yOiAjZGMzNTQ1O1xufVxuXG4udm90ZXJzLXNlYXJjaCB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5zZWFyY2gtaW5wdXQge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbi52b3RlcnMtdGFibGUtY29udGFpbmVyIHtcbiAgYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwwLDAsMC4xKTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLnZvdGVycy10YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xufVxuXG4udm90ZXJzLXRhYmxlIHRoLFxuLnZvdGVycy10YWJsZSB0ZCB7XG4gIHBhZGRpbmc6IDEycHg7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO1xufVxuXG4udm90ZXJzLXRhYmxlIHRoIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjNjY2O1xufVxuXG4udm90ZS1idG4ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjhhNzQ1O1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgcGFkZGluZzogOHB4IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3M7XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLnZvdGUtYnRuOmhvdmVyOm5vdCg6ZGlzYWJsZWQpIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIxODgzODtcbn1cblxuLnZvdGUtYnRuOmRpc2FibGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbn1cblxuLnZvdGVkIHtcbiAgY29sb3I6ICMyOGE3NDU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBnYXA6IDVweDtcbn1cblxuLm5vLXJlc3VsdHMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjNjY2O1xuICBwYWRkaW5nOiAyMHB4O1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLnZvdGVycy1zdGF0cyB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBnYXA6IDEwcHg7XG4gIH1cbiAgXG4gIC52b3RlcnMtdGFibGUge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG92ZXJmbG93LXg6IGF1dG87XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["environment","debounceTime","distinctUntilChanged","Subject","i0","ɵɵelementStart","ɵɵlistener","VotersComponent_tr_35_button_9_Template_button_click_0_listener","ɵɵrestoreView","_r1","voter_r2","ɵɵnextContext","$implicit","ctx_r2","ɵɵresetView","vote","id","ɵɵtext","ɵɵelementEnd","ɵɵproperty","isVoting","ɵɵtemplate","VotersComponent_tr_35_button_9_Template","VotersComponent_tr_35_span_10_Template","ɵɵadvance","ɵɵtextInterpolate","firstName","lastName","ɵɵpipeBind2","dateOfBirth","hasVoted","VotersComponent","constructor","http","voters","searchTerm","apiUrl","searchSubject","ngOnInit","loadVoters","pipe","subscribe","filterVoters","get","next","data","error","console","voterId","post","complete","term","toLowerCase","filter","voter","includes","filteredVoters","totalVoters","length","votedCount","v","remainingCount","ɵɵdirectiveInject","i1","HttpClient","selectors","decls","vars","consts","template","VotersComponent_Template","rf","ctx","ɵɵtwoWayListener","VotersComponent_Template_input_ngModelChange_21_listener","$event","ɵɵtwoWayBindingSet","VotersComponent_tr_35_Template","VotersComponent_tr_36_Template","ɵɵtwoWayProperty"],"sources":["/Users/juniormarvin/Desktop/ElectionProject/frontend/src/app/voters/voters.component.ts","/Users/juniormarvin/Desktop/ElectionProject/frontend/src/app/voters/voters.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\ninterface Voter {\n  id: number;\n  firstName: string;\n  lastName: string;\n  dateOfBirth: string;\n  hasVoted: boolean;\n}\n\n@Component({\n  selector: 'app-voters',\n  templateUrl: './voters.component.html',\n  styleUrls: ['./voters.component.css']\n})\nexport class VotersComponent implements OnInit {\n  voters: Voter[] = [];\n  searchTerm = '';\n  isVoting = false;\n  private apiUrl = environment.apiUrl;\n  private searchSubject = new Subject<string>();\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit() {\n    this.loadVoters();\n    \n    // Setup search debouncing\n    this.searchSubject.pipe(\n      debounceTime(300),\n      distinctUntilChanged()\n    ).subscribe(() => {\n      this.filterVoters();\n    });\n  }\n\n  loadVoters() {\n    this.http.get<Voter[]>(`${this.apiUrl}/voters`).subscribe({\n      next: (data) => {\n        this.voters = data;\n      },\n      error: (error) => {\n        console.error('Error loading voters:', error);\n      }\n    });\n  }\n\n  vote(voterId: number) {\n    if (this.isVoting) return;\n    \n    this.isVoting = true;\n    this.http.post(`${this.apiUrl}/voters/${voterId}/vote`, {}).subscribe({\n      next: () => {\n        this.loadVoters();\n      },\n      error: (error) => {\n        console.error('Error voting:', error);\n      },\n      complete: () => {\n        this.isVoting = false;\n      }\n    });\n  }\n\n  filterVoters() {\n    if (!this.searchTerm) {\n      return this.voters;\n    }\n    const term = this.searchTerm.toLowerCase();\n    return this.voters.filter(voter =>\n      voter.firstName.toLowerCase().includes(term) ||\n      voter.lastName.toLowerCase().includes(term)\n    );\n  }\n\n  get filteredVoters() {\n    return this.filterVoters();\n  }\n\n  get totalVoters() {\n    return this.voters.length;\n  }\n\n  get votedCount() {\n    return this.voters.filter(v => v.hasVoted).length;\n  }\n\n  get remainingCount() {\n    return this.voters.filter(v => !v.hasVoted).length;\n  }\n}\n","<div class=\"voters-container\">\n  <div class=\"voters-header\">\n    <h2>Election Voting System</h2>\n    <div class=\"voters-stats\">\n      <div class=\"stat-item\">\n        <span class=\"stat-label\">Total Voters:</span>\n        <span class=\"stat-value\">{{ totalVoters }}</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"stat-label\">Voted:</span>\n        <span class=\"stat-value voted\">{{ votedCount }}</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"stat-label\">Remaining:</span>\n        <span class=\"stat-value remaining\">{{ remainingCount }}</span>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"voters-search\">\n    <input type=\"text\" [(ngModel)]=\"searchTerm\" placeholder=\"Search voters...\" class=\"search-input\">\n  </div>\n\n  <div class=\"voters-table-container\">\n    <table class=\"voters-table\">\n      <thead>\n        <tr>\n          <th>First Name</th>\n          <th>Last Name</th>\n          <th>Date of Birth</th>\n          <th>Status</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let voter of filteredVoters\">\n          <td>{{ voter.firstName }}</td>\n          <td>{{ voter.lastName }}</td>\n          <td>{{ voter.dateOfBirth | date:'dd/MM/yyyy' }}</td>\n          <td>\n            <button *ngIf=\"!voter.hasVoted\" \n                    (click)=\"vote(voter.id)\"\n                    class=\"vote-btn\"\n                    [disabled]=\"isVoting\">\n              Vote\n            </button>\n            <span *ngIf=\"voter.hasVoted\" class=\"voted\">✓ Voted</span>\n          </td>\n        </tr>\n        <tr *ngIf=\"filteredVoters.length === 0\">\n          <td colspan=\"4\" class=\"no-results\">No voters found</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}